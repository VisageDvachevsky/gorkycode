# üß≠ AI-Tourist

**–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫ –ø–æ –ù–∏–∂–Ω–µ–º—É –ù–æ–≤–≥–æ—Ä–æ–¥—É**

–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—É–ª–æ—á–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ (3‚Äì5 —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫) —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞, —Ç–∞–π–º–ª–∞–π–Ω–æ–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —ç–∫—Å–ø–æ—Ä—Ç–∞.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **–ò–Ω—Ç–µ—Ä–µ—Å—ã** ‚Äî —Å–≤–æ–±–æ–¥–Ω–∞—è —Ñ–æ—Ä–º–∞ (—Å—Ç—Ä–∏—Ç-–∞—Ä—Ç, –ø–∞–Ω–æ—Ä–∞–º—ã, –∫–æ—Ñ–µ, –∏—Å—Ç–æ—Ä–∏—è‚Ä¶)
- **–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è** ‚Äî –≤ —á–∞—Å–∞—Ö
- **–¢–æ—á–∫–∞ —Å—Ç–∞—Ä—Ç–∞** ‚Äî –∞–¥—Ä–µ—Å –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- **Social mode** ‚Äî `solo` / `friends` / `family`

### –í—ã—Ö–æ–¥

- **3‚Äì5 —Ä–µ–∞–ª—å–Ω—ã—Ö POI** —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º (¬´–ø–æ—á–µ–º—É –∏–¥—ë–º –∏–º–µ–Ω–Ω–æ —Å—é–¥–∞¬ª)
- **–¢–∞–π–º–ª–∞–π–Ω** ‚Äî –≤—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥–∞/—É—Ö–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏
- **–ü–æ–¥—Å–∫–∞–∑–∫–∏** ‚Äî –ª–∞–π—Ñ—Ö–∞–∫–∏, –ª—É—á—à–∏–µ —Ä–∞–∫—É—Ä—Å—ã, –∫–æ—Ñ–µ–π–Ω—ã–µ —Ç–æ—á–∫–∏
- **–≠–∫—Å–ø–æ—Ä—Ç** ‚Äî GPX / PDF / Share Link
- **Smart Backup** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã—Ö –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ—á–µ–∫

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|---|---|
| **Frontend** | React SPA + Map (Leaflet / Mapbox) |
| **Backend API** | FastAPI ‚Äî orchestration pipeline |
| **–•—Ä–∞–Ω–∏–ª–∏—â–µ** | PostgreSQL (POI), pgvector / Pinecone, Redis cache |
| **AI Layer** | Embedding model + LLM –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏–π |
| **Routing Engine** | OSRM / GraphHopper –¥–ª—è —Ç–∞–π–º–∏–Ω–≥–æ–≤ –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–π |

---

## üîß –ü–∞–π–ø–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞

1. **Embedding Service** ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ user intent
2. **Vector Search + Ranker** ‚Äî –ø–æ–¥–±–æ—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **Route Planner (TSP-lite)** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ —Ç–æ—á–µ–∫
4. **LLM Generator** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π JSON —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ —Ç–∞–π–º–ª–∞–π–Ω–æ–º
5. **Frontend View** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ + —ç–∫—Å–ø–æ—Ä—Ç

---

## üì¶ JSON-—Å—Ö–µ–º–∞ –æ—Ç–≤–µ—Ç–∞

```json
{
  "summary": "–ö—Ä–∞—Ç–∫–æ–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ",
  "route": [
    {
      "order": 1,
      "poi_id": 123,
      "name": "–ü–ª–æ—â–∞–¥—å –ú–∏–Ω–∏–Ω–∞",
      "lat": 56.3287,
      "lon": 44.0020,
      "why": "–ü–æ—á–µ–º—É —ç—Ç–æ",
      "tip": "–°–æ–≤–µ—Ç",
      "est_visit_minutes": 20,
      "arrival_time": "2025-10-10T10:00:00+03:00",
      "leave_time": "2025-10-10T10:20:00+03:00"
    }
  ],
  "total_est_minutes": 150,
  "notes": ["–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø—Ä–∏ –¥–æ–∂–¥–µ"]
}
```

---

## üß† –≠–≤—Ä–∏—Å—Ç–∏–∫–∏

| –õ–æ–≥–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| **–ö–æ—Ñ–µ/–ø–µ—Ä–µ–∫—É—Å** | –ö–∞–∂–¥—ã–µ 90¬±30 –º–∏–Ω—É—Ç (–ª—é–±–∏—Ç–µ–ª—è–º –∫–æ—Ñ–µ ‚Äî 60‚Äì75 –º–∏–Ω) |
| **–°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—à–µ—Ö–æ–¥–∞** | 4.5 –∫–º/—á, –±—É—Ñ–µ—Ä 5‚Äì10 –º–∏–Ω |
| **Social Mode** | `solo` ‚Üí —Ç–∏—Ö–∏–µ –≤–∏–¥—ã, `friends` ‚Üí —Å—Ç—Ä–∏—Ç—Ñ—É–¥/–±–∞—Ä—á–∏–∫–∏ |
| **Smart Backup** | –ê–≤—Ç–æ—Å–≤–∞–ø POI –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏/–ø–æ–ª–æ–º–∫–µ —Ç–æ—á–∫–∏ |

---

## üíé Killer Features

- **‚òï Adaptive Coffee Breaks** ‚Äî —Å–µ—Ä–≤–∏—Å —Å–∞–º –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ—Ñ–µ–π–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- **üîÑ Smart Backup** ‚Äî –∞–≤—Ç–æ-–∑–∞–º–µ–Ω–∞ POI –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **üì∏ Photo-Hints** ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ä–∞–∫—É—Ä—Å–æ–≤ –¥–ª—è —Ñ–æ—Ç–æ—ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤
- **üîó Shareable itineraries** ‚Äî —Å—Å—ã–ª–∫–∞ + GPX/PDF —ç–∫—Å–ø–æ—Ä—Ç
- **üë• Friend Mode Merge** ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏
- **üí¨ Explainability Panel** ‚Äî –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ —Ç–æ—á–∫–∏
- **üí∞ Local Deals API** *(–º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è)* ‚Äî —Å–∫–∏–¥–∫–∏/–∫—É–ø–æ–Ω—ã –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–∞—Ñ–µ

---

## üåç –ò—Å—Ç–æ—á–Ω–∏–∫–∏ POI

- **OpenStreetMap** ‚Äî –±–∞–∑–∞ —Ç–æ—á–µ–∫ (primary)
- **2GIS / TripAdvisor / –ª–æ–∫–∞–ª—å–Ω—ã–µ –≥–∏–¥—ã** ‚Äî —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã, —Ä–µ–π—Ç–∏–Ω–≥
- **–ö—É—Ä–∞—Ç–æ—Ä—Å–∫–∞—è —Ä—É—á–Ω–∞—è –±–∞–∑–∞** ‚Äî ¬´–º–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—é—Ç —Ç–æ–ª—å–∫–æ –º–µ—Å—Ç–Ω—ã–µ¬ª

---

## üóì MVP (48‚Äì72h –ø–ª–µ–π–±—É–∫)

### –ó–∞–¥–∞—á–∏

- ‚úÖ –ò–º–ø–æ—Ä—Ç ~200‚Äì500 POI
- ‚úÖ FastAPI `/plan` endpoint (embedding ‚Üí search ‚Üí ranking ‚Üí route ‚Üí LLM-json)
- ‚úÖ React-—Ñ–æ—Ä–º–∞ + –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è + export
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å coffee heuristic, explainability, share-–ª–∏–Ω–∫

### –î–µ–º–æ-—Å—Ü–µ–Ω–∞—Ä–∏–∏

- –ü—Ä–æ–≥—É–ª–∫–∞ ¬´solo photo walk¬ª
- ¬´Friends food crawl¬ª
- ¬´Rainy day alt-route¬ª

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| **Conversion** | –ó–∞–ø—Ä–æ—Å ‚Üí —ç–∫—Å–ø–æ—Ä—Ç |
| **Retention** | –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã |
| **Ranking Quality** | NDCG / MAP (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∞ —Ñ–∏–¥–±–µ–∫–∞) |
| **Latency** | `/plan` < 2s (–±–µ–∑ LLM), –æ–±—â–∞—è < 5s |

---

## üîê Privacy & Security

- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–µ–∑ opt-in
- –£—Ä–µ–∑–∞–µ–º PII –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö
- –ó–∞—â–∏—Ç–∞ –∫–ª—é—á–µ–π / rate-limiting

---

## üìå –ü—Ä–æ–º–ø—Ç—ã

### Embedding prompt pattern

```
"{social} {hours}h walk, {raw_interests}, start {lat},{lon}"
```

### System prompt (LLM ‚Üí JSON –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

```
"You are an AI guide for Nizhny Novgorod... Produce only valid JSON following the schema. Do not hallucinate new POI..."
```

*–§—É–ª–ª-–ø—Ä–æ–º–ø—Ç—ã ‚Äî –≤ `/prompts`*