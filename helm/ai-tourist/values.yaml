frontend:
  replicaCount: 2
  image:
    repository: ai-tourist-frontend
    tag: latest
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 80
  
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  
  env:
    - name: VITE_API_URL
      value: ""  # Empty = use relative path /api

apiGateway:
  replicaCount: 2
  image:
    repository: ai-tourist-api-gateway
    tag: latest
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    httpPort: 8000
    metricsPort: 9090
  
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"

ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /$2
    nginx.ingress.kubernetes.io/use-regex: "true"
  hosts:
    - host: ""  # Empty = match all hosts
      paths:
        - path: /()(.*)
          pathType: ImplementationSpecific
          backend:
            service:
              name: frontend
              port: 80
        - path: /api(/|$)(.*)
          pathType: ImplementationSpecific
          backend:
            service:
              name: api-gateway
              port: 8000

# Database configuration
postgresql:
  enabled: true
  auth:
    username: aitourist
    password: secure_password_change_in_prod
    database: aitourist_db
  
  primary:
    persistence:
      enabled: true
      size: 1Gi
    
    resources:
      requests:
        memory: "256Mi"
        cpu: "250m"
      limits:
        memory: "512Mi"
        cpu: "500m"

# Redis configuration
redis:
  enabled: true
  auth:
    enabled: false
  
  master:
    persistence:
      enabled: true
      size: 1Gi
    
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"

# Service configurations
embeddingService:
  replicaCount: 2
  image:
    repository: ai-tourist-embedding-service
    tag: latest
    pullPolicy: IfNotPresent
  
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

rankingService:
  replicaCount: 2
  image:
    repository: ai-tourist-ranking-service
    tag: latest
    pullPolicy: IfNotPresent
  
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"

routePlannerService:
  replicaCount: 2
  image:
    repository: ai-tourist-route-planner-service
    tag: latest
    pullPolicy: IfNotPresent
  
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"

llmService:
  replicaCount: 1
  image:
    repository: ai-tourist-llm-service
    tag: latest
    pullPolicy: IfNotPresent
  
  env:
    - name: LLM_PROVIDER
      value: "anthropic"
    - name: LLM_MODEL
      value: "claude-sonnet-4-20250514"
    - name: ANTHROPIC_API_KEY
      valueFrom:
        secretKeyRef:
          name: ai-tourist-secrets
          key: anthropic-api-key
  
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"

geocodingService:
  replicaCount: 1
  image:
    repository: ai-tourist-geocoding-service
    tag: latest
    pullPolicy: IfNotPresent
  
  env:
    - name: TWOGIS_API_KEY
      valueFrom:
        secretKeyRef:
          name: ai-tourist-secrets
          key: twogis-api-key
  
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

poiService:
  replicaCount: 1
  image:
    repository: ai-tourist-poi-service
    tag: latest
    pullPolicy: IfNotPresent
  
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Jobs
jobs:
  dbMigration:
    image:
      repository: ai-tourist-db-migration
      tag: latest
      pullPolicy: IfNotPresent
  
  poiLoader:
    image:
      repository: ai-tourist-poi-loader
      tag: latest
      pullPolicy: IfNotPresent